<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[J2hongming Blog]]></title>
  <link href="http://j2hongming.github.io/atom.xml" rel="self"/>
  <link href="http://j2hongming.github.io/"/>
  <updated>2016-02-18T16:56:02+08:00</updated>
  <id>http://j2hongming.github.io/</id>
  <author>
    <name><![CDATA[HongMing ChangChine]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Drupal 7 + Memcached on CentOS 6]]></title>
    <link href="http://j2hongming.github.io/blog/2015/07/24/drupal-7-plus-memcached-on-centos-6/"/>
    <updated>2015-07-24T17:24:34+08:00</updated>
    <id>http://j2hongming.github.io/blog/2015/07/24/drupal-7-plus-memcached-on-centos-6</id>
    <content type="html"><![CDATA[<ul>
<li>安裝Memcached</li>
<li>設定Memcached</li>
<li>安裝Memcached PHP extension(PECL Memcache)</li>
<li>設定Memcached PHP extension</li>
<li>安裝Drupal 7 memcache 模組</li>
<li>設定Drupal 7 setting.php</li>
<li>注意事項</li>
</ul>


<!-- more -->


<h2>Memcached</h2>

<h3>安裝Memcached</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>yum install memcached</span></code></pre></td></tr></table></div></figure>


<h3>設定Memcached</h3>

<p>設定 /etc/sysconfig/memcached
注意OPTIONS=&ldquo;-l 127.0.0.1&rdquo;</p>

<h2>Memcached PHP extension</h2>

<h3>安裝Memcached PHP extension</h3>

<p>指定版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo pecl install channel://pecl.php.net/memcache-3.0.6</span></code></pre></td></tr></table></div></figure>


<h3>設定Memcached PHP extension</h3>

<p>設定/etc/php.d/memcache.ini</p>

<p>開啟hash相關設定</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>memcache.hash\_strategy=consistent</span></code></pre></td></tr></table></div></figure>


<h2>Drupal 7</h2>

<h3>安裝Drupal 7 memcache 模組</h3>

<p><a href="https://www.drupal.org/project/memcache">Memcache API and Integration</a></p>

<h3>設定Drupal 7 setting.php</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$conf['cache_backends'][] = 'sites/all/modules/memcache/memcache.inc';
</span><span class='line'>// The 'cache_form' bin must be assigned no non-volatile storage.
</span><span class='line'>$conf['cache_class_cache_form'] = 'DrupalDatabaseCache';
</span><span class='line'>$conf['cache_default_class'] = 'MemCacheDrupal';
</span><span class='line'>$conf['memcache_key_prefix'] = 'something_unique';
</span><span class='line'>// Don't bootstrap the database when serving pages from the cache.
</span><span class='line'>$conf['page_cache_without_database'] = TRUE;
</span><span class='line'>$conf['page_cache_invoke_hooks'] = FALSE;
</span><span class='line'>
</span><span class='line'>$conf['memcache_stampede_protection'] = TRUE;
</span><span class='line'>$conf['lock_inc'] = 'sites/all/modules/memcache/memcache-lock.inc';</span></code></pre></td></tr></table></div></figure>


<h2>注意事項</h2>

<ol>
<li>若memcache service有起來，Druapl卻沒連到，注意防火牆設定</li>
</ol>


<h2>Ref</h2>

<ul>
<li><a href="https://www.drupal.org/node/1131468">Drupal 7 Memcache Tutorial</a>
大致流程說明</li>
<li><a href="http://tag1consulting.com/blog/memcache-centos-fedora">Memcached and PECL memcache on CentOS and Fedora</a>
CentOS安裝注意事項</li>
<li><a href="http://www.tecmint.com/install-memcached-caching-server-on-rhel-centos-fedora/">Install Memcached (Caching Server) on RHEL/CentOS 6.3/5.8 and Fedora 17-12</a>
安裝流程與指令(推薦)</li>
<li><a href="http://chimera.labs.oreilly.com/books/1230000000845/ch16.html">Chapter 16. Alternative Storage and Cache Backends</a>
觀念</li>
<li><a href="http://www.hellosanta.com.tw/Drupal%E7%B6%B2%E7%AB%99%E8%A8%AD%E8%A8%88/drupal-memcached">Drupal Memcached中文教學</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux指令歷史紀錄]]></title>
    <link href="http://j2hongming.github.io/blog/2014/10/20/linux-command-history/"/>
    <updated>2014-10-20T17:09:32+08:00</updated>
    <id>http://j2hongming.github.io/blog/2014/10/20/linux-command-history</id>
    <content type="html"><![CDATA[<h2>方法一</h2>

<p><code>Ctrl + r</code>: 搜尋指令歷史紀錄，進入<strong>(reverse-i-search)</strong>模式</p>

<!-- more -->


<p>在<strong>reverse-i-search</strong>下，輸入關鍵字</p>

<ul>
<li><code>Enter</code>: 直接執行此指令</li>
<li><code>左右鍵</code>: 跳回一般命令提示字元</li>
<li><code>Ctrl + r</code>: 下一個</li>
</ul>


<h2>方法二</h2>

<ul>
<li><code>history | more</code></li>
<li><code>!n</code>: n為history的輸出編號</li>
<li><code>!keyword</code>: keyword為指定之關鍵字</li>
<li><code>history n</code>:  列出最近n個使用的指令</li>
</ul>


<h2>Ref.</h2>

<ol>
<li><a href="http://www.gtwang.org/2013/10/mastering-linux-command-line-history.html">Linux 指令歷史紀錄（History）的操作教學與範例</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[部落格開張Markdown Demo]]></title>
    <link href="http://j2hongming.github.io/blog/2014/10/16/bu-luo-ge-kai-zhang/"/>
    <updated>2014-10-16T16:22:49+08:00</updated>
    <id>http://j2hongming.github.io/blog/2014/10/16/bu-luo-ge-kai-zhang</id>
    <content type="html"><![CDATA[<ul>
<li>Sharing Code Snippets</li>
<li>Quote</li>
<li>List</li>
<li>Email</li>
<li>Atx Format Header</li>
<li>Setext Format Header</li>
<li>Break Line</li>
<li>Link</li>
</ul>


<!-- more -->


<p><a href="http://markdown.tw/">Markdown Syntax</a></p>

<h2>Sharing Code Snippets</h2>

<h3>Example  1</h3>

<figure class='code'><figcaption><span>PHP echo-hello.php</span><a href='http://php.net/manual/en/function.echo.php'>link</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">echo</span> <span class="s1">&#39;部落格開張&#39;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Example  2</h3>

<p><a href="http://octopress.org/docs/blogging/code/">Octopress: Sharing Code Snippets</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;h1&gt;</span>My First Heading<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>My first paragraph.<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Quote</h2>

<h3>Example 1</h3>

<p><a href="http://octopress.org/docs/plugins/blockquote/">Octopress: Blockquote</a></p>

<blockquote><p>Stay hungry, Stay foolish. -Steve Jobs</p>

<p>A apple a day, keep the doctor away</p>

<blockquote><p>May I help U?</p></blockquote>

<ol>
<li>First
Line</li>
<li>Two
Line</li>
</ol>
</blockquote>

<h3>Example 2</h3>

<blockquote><p>Flying is learning how to throw yourself at the ground and miss.</p><footer><strong>Douglas Adams</strong> <cite>The Hichhikers Guide to the Galaxy</cite></footer></blockquote>


<h2>List</h2>

<h3>Example</h3>

<h4>TODO List</h4>

<ul>
<li>open</li>
<li><em>hadle em</em></li>
<li><strong>*strong*</strong>

<ol>
<li>s1</li>
<li>s2</li>
<li>s3</li>
</ol>
</li>
</ul>


<h2>Email</h2>

<h3>Example</h3>

<p><a href="&#x6d;&#97;&#x69;&#x6c;&#116;&#x6f;&#x3a;&#97;&#100;&#x64;&#114;&#101;&#115;&#115;&#64;&#x65;&#120;&#x61;&#109;&#112;&#x6c;&#x65;&#x2e;&#99;&#111;&#x6d;">&#97;&#x64;&#100;&#114;&#101;&#115;&#x73;&#x40;&#x65;&#x78;&#97;&#109;&#x70;&#108;&#101;&#46;&#x63;&#111;&#109;</a></p>

<h1>Atx format Header L1</h1>

<h2>Example</h2>

<h2>Header L2</h2>

<h3>Header L3</h3>

<h4>Header L4</h4>

<h5>Header L5</h5>

<h6>Header L6</h6>

<h1>This is an Setext Format  H1</h1>

<h3>Example</h3>

<h2>This is an  Setext Format  H2</h2>

<h1>Break Line</h1>

<h2>Example</h2>

<p>BreakLine</p>

<hr />

<hr />

<hr />

<h1>Link</h1>

<h3>Example 1: Inline</h3>

<p>This is <a href="http://example.com/" title="Title">an example</a> inline link.</p>

<h3>Example 2: Ref</h3>

<p>This is <a href="http://example.com/" title="Optional Title Here">an example</a> reference-style link.</p>
]]></content>
  </entry>
  
</feed>
